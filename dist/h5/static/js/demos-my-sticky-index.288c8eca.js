(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demos-my-sticky-index"],{"02cd":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".list .item .divClass[data-v-e79dd3a2]{display:block}.list .item .hover-btn[data-v-e79dd3a2]{color:red;background-color:#fff;border:%?2?% solid red}",""]),t.exports=e},"0313":function(t,e,i){"use strict";i.r(e);var n=i("74d5"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"05d1":function(t,e,i){"use strict";i("a15b"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"MyBadge",props:{text:{type:String},color:{type:String},fontSize:{type:[Number]}},data:function(){return{}},computed:{showBadge:function(){return"undefined"!==this.text&&""!==this.text},dynamicStyle:function(){var t=[];return this.color&&t.push("background-color: ".concat(this.color)),this.fontSize&&t.push("font-size: ".concat(this.fontSize,"rpx")),t.join(";")}}};e.default=n},"06c5":function(t,e,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(i("6b75"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(t){if("string"===typeof t)return(0,n.default)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.default)(t,e):void 0}}},"09f0":function(t,e,i){"use strict";function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)if(i.push(o.value),e&&i.length===e)break}catch(s){r=!0,a=s}finally{try{n||null==c["return"]||c["return"]()}finally{if(r)throw a}}return i}}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0d21":function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"10ea":function(t,e,i){var n=i("5487");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("7a2581ae",n,!0,{sourceMap:!1,shadowMode:!1})},1317:function(t,e,i){var n=i("34c6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("3b970c4e",n,!0,{sourceMap:!1,shadowMode:!1})},1624:function(t,e,i){var n=i("4594");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("2a0ccf5e",n,!0,{sourceMap:!1,shadowMode:!1})},"1c04":function(t,e,i){"use strict";i.r(e);var n=i("3af7"),r=i("642c");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("1ea6"),i("7de5");var o,c=i("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"e79dd3a2",null,!1,n["a"],o);e["default"]=s.exports},"1ea6":function(t,e,i){"use strict";var n=i("dd7b"),r=i.n(n);r.a},"1f35":function(t,e,i){"use strict";var n=i("10ea"),r=i.n(n);r.a},"252e":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"badge",class:{"badge-without-text":!t.showBadge},style:t.dynamicStyle},[t.showBadge?i("v-uni-text",{staticClass:"badge-text"},[t._v(t._s(t.text))]):t._e(),t._t("content")],2)},a=[]},"29f5":function(t,e,i){"use strict";i.r(e);var n=i("4f74"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"31b4":function(t,e,i){"use strict";i.r(e);var n=i("8a7e"),r=i("0313");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("401f");var o,c=i("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"01949c90",null,!1,n["a"],o);e["default"]=s.exports},"34c6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-01949c90]{position:relative;width:100%;height:100%;overflow-y:auto}",""]),t.exports=e},3835:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=c(i("0d21")),r=c(i("09f0")),a=c(i("06c5")),o=c(i("3d8c"));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,n.default)(t)||(0,r.default)(t,e)||(0,a.default)(t,e)||(0,o.default)()}},"3af7":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={myStickyScroll:i("31b4").default,mySticky:i("bbca").default,myBadge:i("44ec").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("my-sticky-scroll",[i("v-uni-view",{staticClass:"list",attrs:{id:"sticky1"}},[i("v-uni-view",{staticClass:"tip"},[t._v("基础用法")]),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",[t._v("我是content")])],1),i("my-sticky",[i("v-uni-view",{staticClass:"header"},[i("v-uni-text",[t._v("我是sticky1")])],1)],1),i("v-uni-view",[t._v("我是分割线")]),i("v-uni-view",[t._v("我是分割线")]),i("v-uni-view",[t._v("我是分割线")]),i("v-uni-view",[t._v("我是分割线")]),i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"left"},[i("my-sticky",{attrs:{"offset-top":60}},[i("v-uni-view",[i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")]),i("v-uni-view",[t._v("分类一")])],1)],1)],1),i("v-uni-view",{staticClass:"right"},[i("my-sticky",{attrs:{"offset-top":50}},[i("v-uni-view",{staticClass:"header"},[i("v-uni-text",[t._v("我是sticky3")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"next-content"},[i("v-uni-text",[t._v("我是content")]),i("my-sticky",{attrs:{"offset-top":70}},[i("my-badge",{attrs:{text:t.text}})],1)],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v("item")])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v("item")])],1)],1)],1)},a=[]},"3d8c":function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"401f":function(t,e,i){"use strict";var n=i("1317"),r=i.n(n);r.a},"41c5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{name:"",categoryStyle:{height:"100rpx"},text:null}},mounted:function(){var t=this;setTimeout((function(){t.text="动态文本"}),2e3)}};e.default=n},"44ec":function(t,e,i){"use strict";i.r(e);var n=i("252e"),r=i("ee7d");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("1f35");var o,c=i("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"77f13738",null,!1,n["a"],o);e["default"]=s.exports},4594:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".list[data-v-e79dd3a2]{padding:%?20?% %?30?%;overflow-y:auto;font-size:%?24?%;border:%?2?% solid #eee}.list .tip[data-v-e79dd3a2]{padding:%?20?% %?0?%;color:#333;font-weight:600}.list .item[data-v-e79dd3a2]{min-height:%?600?%;text-align:center}.header[data-v-e79dd3a2]{color:#fff;background-color:#2c405a}.content[data-v-e79dd3a2],\n.next-content[data-v-e79dd3a2]{height:%?400?%;border-bottom:%?1?% solid #ccc}.inner[data-v-e79dd3a2]{width:100%}.inner .left[data-v-e79dd3a2],\n.inner .right[data-v-e79dd3a2]{display:inline-block;width:40%}",""]),t.exports=e},"4f74":function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("a15b"),i("a9e3"),i("b64b"),i("acd8"),i("ac1f"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("5530")),a=n(i("3835")),o={name:"MySticky",props:{styles:{type:[Object,String],default:function(){return{}}},offsetTop:{type:Number,default:0},zIndex:{type:Number,default:9}},data:function(){return{sticky:!1,visible:!1,transform:0,stickPosition:{}}},computed:{divStyle:function(){var t=this,e=["z-index:".concat(this.zIndex)],i=[];return"string"===typeof this.styles?e.push(this.styles):i=Object.keys(this.styles),this.sticky&&"undefined"!==typeof this.stickPosition.width&&e.push("width:".concat(this.stickPosition.width,"px;height:").concat(this.stickPosition.height,"px")),i.forEach((function(i){e.push("".concat(i,": ").concat(t.styles[i]))})),e.join(";")},stickyStyle:function(){if(this.sticky){var t=this.offsetTop;t+=44;var e=[this.divStyle,"position: fixed;top:".concat(parseFloat(t),"px;left:").concat(this.stickPosition.left,"px")];return e.join(";")}return""},randomClassName:function(){return"sticky-".concat(Math.floor(1e5*Math.random()))}},mounted:function(){var t=this;uni.createIntersectionObserver&&(this.setStickyPosition(),this.intersectionObserver=new IntersectionObserver((function(e){var i=(0,a.default)(e,1),n=i[0];n.intersectionRect.top>0?t.visible=!0:t.visible=!1}),{root:document.querySelector(".__sticky_scroll__"),rootMargin:"".concat(-(this.offsetTop||0)-1,"px 0px 0px 0px")}),this.intersectionObserver.observe(document.querySelector(".".concat(this.randomClassName))),this.getStickyParent().onParentScroll((function(e){var i=e.detail;t.handleScroll({detail:i})})))},beforeDestroy:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)},methods:{getStickyParent:function(){if(this.stickyParent)return this.stickyParent;var t=this.$parent;while(t){if(t.$data._sticky_)break;t=t.$parent?t.$parent:null}return this.stickyParent=t,t},setStickyPosition:function(){var t=this;this.getStickyParent().getScrollOffset().then((function(e){var i=e.scrollTop,n=e.scrollLeft,o=e.offsetTop,c=e.offsetLeft,s=uni.createSelectorQuery();s.in(t).select(".".concat(t.randomClassName)).boundingClientRect(),s.exec((function(e){var s=(0,a.default)(e,1),u=s[0];t.stickPosition=(0,r.default)((0,r.default)({},u),{},{top:u.top-o+i,left:u.left-c+n})}))}))},handleScroll:function(t){var e=t.detail;this.visible&&(this.stickPosition.top<=e.scrollTop+parseFloat(this.offsetTop)?(this.sticky=!0,this.$emit("change",{isFixed:!0,detail:e})):(this.sticky=!1,this.$emit("change",{isFixed:!1,detail:e})))}}};e.default=o},5487:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".badge[data-v-77f13738]{position:relative;display:inline-block;padding:%?2?% %?10?%;font-size:%?20?%;background-color:red;border:%?2?% solid #fff;border-radius:100%}.badge-text[data-v-77f13738]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;font-weight:700;min-height:%?16?%}.badge-without-text[data-v-77f13738]{padding:%?6?%}",""]),t.exports=e},"642c":function(t,e,i){"use strict";i.r(e);var n=i("41c5"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"74d5":function(t,e,i){"use strict";var n=i("4ea4");i("4de4"),i("d81d"),i("a9e3"),i("d3b7"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("3835")),a={name:"MyStickyScroll",props:{scrollTop:{type:[Number,String]},scrollLeft:{type:[Number,String]}},data:function(){return{_sticky_:!0,stickyList:[]}},computed:{},methods:{onParentScroll:function(t){var e=this;return this.stickyList.push(t),function(){e.stickyList=e.stickyList.filter((function(e){return t!==e}))}},getScrollOffset:function(){var t=this;return new Promise((function(e,i){try{var n=uni.createSelectorQuery();n.in(t).select(".container").scrollOffset(),n.in(t).select(".container").boundingClientRect(),n.exec((function(t){var i=(0,r.default)(t,2),n=i[0],a=i[1];e({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,offsetTop:a.top,offsetLeft:a.left})}))}catch(a){e({scrollTop:0,scrollLeft:0,offsetTop:0,offsetLeft:0})}}))},handleScroll:function(t){this.stickyList.map((function(e){e(t)}))}}};e.default=a},"7de5":function(t,e,i){"use strict";var n=i("1624"),r=i.n(n);r.a},"84e5":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"sticky",class:t.randomClassName,style:t.divStyle},[t.sticky?t._e():i("v-uni-view",{style:t.stickyStyle},[t._t("default")],2),t.sticky?i("v-uni-view",{style:t.stickyStyle},[t._t("default")],2):t._e()],1)},a=[]},"8a7e":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-scroll-view",{staticClass:"container __sticky_scroll__",attrs:{"scroll-y":!0,"scroll-top":t.scrollTop,"scroll-left":t.scrollLeft},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.handleScroll.apply(void 0,arguments)}}},[t._t("default")],2)},a=[]},bbca:function(t,e,i){"use strict";i.r(e);var n=i("84e5"),r=i("29f5");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o,c=i("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=s.exports},dd7b:function(t,e,i){var n=i("02cd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("2158c590",n,!0,{sourceMap:!1,shadowMode:!1})},ee7d:function(t,e,i){"use strict";i.r(e);var n=i("05d1"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a}}]);